## 一、产品概述

### 1.1 产品名称
犀知（XiZhi）- AI驱动的开发者能力成长平台

### 1.2 产品愿景
通过智能问答驱动，帮助开发者构建结构化知识体系，持续提升技术能力，实现职业成长。

### 1.3 目标用户
- 在职后端开发者（1-3年经验，月收入8k-15k）
- 计算机专业学生（大三、大四及研究生，尤其是求职准备期）

### 1.4 核心学习架构
- 无限问答闭环流（Infinite QA Feedback Loop）
- 核心逻辑：智能提问 → 用户作答 → AI多维反馈 → 用户选择（继续 / 追问）→ 新问题生成 → 闭环

---

## 二、核心功能结构

### 2.1 问答主流程
| 步骤 | 功能说明 |
|------|----------|
| 系统提问 | 结合图谱、历史、上下文智能生成个性化问题 |
| 用户回答 | 支持语音（主）+ 文本输入，语音实时识别+可编辑 |
| AI结构分析 | 多卡片反馈，逐层展开（见下方分析卡片） |
| 节奏锚点判断 | 系统弹出判断卡片→ 继续 or 我有问题 → 5s默认继续 |
| 下一题生成 | 若用户无疑问，系统滚动流中追加下一个问题卡片 |

### 2.2 分析反馈卡片体系
| 卡片类型 | 功能描述 |
|-----------|------------|
| ✅ 总评卡片 | 展示整体回答质量，如“核心正确 / 结构残缺 / 易混点” |
| 🔍 结构分析卡片 | 拆解标准答题点：是否包含定义、示例、机制、对比等 |
| ✏️ 改进建议卡片 | 提示具体可优化内容，关键词高亮，可收藏/复制 |
| 📖 知识点卡片 | 展示相关知识点，支持“查看定义”、“标记掌握状态” |
| 📋 标准答案卡片 | 展示结构化标准模版，支持展开、复制、收藏 |
| 📈 能力图谱卡片 | 展示该题对应能力点增长情况，如“并发控制 +1” |

### 2.3 智能判断锚点设计
- 每次分析结束后插入判断按钮：“你还有疑问吗？”
- 5s内无操作，系统自动追加下一题卡片

---

## 三、用户主动追问机制

### 3.1 追问触发形式
| 方式 | 场景 |
|------|------|
| 分析卡片尾部按钮 | “我有疑问”展开追问输入框 |
| 卡片内容长按 | 针对局部内容提问（如结构分析中“机制 ❌”） |
| 系统主动提示 | 如系统识别模糊回答后主动追问 |

### 3.2 追问交互结构
- 追问生成独立卡片流，插入主问答流，不跳页不弹窗；
- 每条追问形成“子线程结构”，支持继续追问或回归主流程；

### 3.3 回归机制
- 每次追问结束弹出锚点卡片：“是否继续当前主题 / 继续下一题？”
- 支持手动点击或5s自动跳转

---

## 四、衍生机制
| 模块 | 功能描述 |
|------|----------|
| ❗ 用户纠错反馈 | 用户反馈AI误判，系统优化记忆 |
| 🎯 专项追练 | 推送微型闯关任务强化弱项 |
| 👊 Boss挑战 | 按模块组题闯关，例如：Goroutine、GC调优等 |
| 💡 实战迁移练习 | 出“代码题 / 设计题 / 模拟面试反问”等 |
| 📆 成长记录与回顾 | 每周生成学习图谱、错题本、最佳回答等 |

---

## 五、视觉与交互风格标准
| 元素 | 规范 |
|--------|------|
| UI风格 | iOS式拟物设计、大圆角、渐变色 |
| 滚动结构 | 沿一个主问答流纵向滚动展开 |
| 字体 | 中文：PingFang SC；英文：SF Pro Text |
| 色彩 | 主色：柔蓝紫；点缀：浅橙；状态：暗灰标签 |
| 动效 | 卡片滑入、按钮缩放、语音波纹等 |

---

## 六、技术实现重点
| 模块 | 要求 |
|--------|------|
| 语音识别 | 实时识别中英混输，结果可编辑 |
| 分析引擎 | 多层抽象分析：关键词提取 / 结构识别 / 语义追问生成 |
| 知识图谱 | 实时打点能力模型，支持可视化展示 |
| 用户数据追踪 | 记录所有答题、追问、知识点状态等行为 |

---

## 七、运营支持建议
- 周榜挑战活动提升活跃
- 个性化成长页展示图谱、成就徽章
- AI小助手角色拟人化，增强粘性

---

## 八、风险与对策
| 风险 | 应对策略 |
|------|-----------|
| 用户信任感 | 提供可纠错功能、解释标准答案出处 |
| 内容准确性 | 多通道训练 + 用户反馈闭环 |
| 信息过载 | 卡片滑入 + 节奏锚点控制 |
| 节奏难控 | 统一“是否继续”判断节点控制节奏 |

---

## 九、完整闭环交互案例
（详见《犀知完整交互案例模拟（主题：Go Mutex 并发锁）》章节，已在需求文档原始内容中完整展开。）
【场景启动】👾 系统智能提问（主流程启动）

犀知：

“Hi，又见面啦，准备好回答一个 Go 并发问题了吗？”

❓ 问题：

“为什么 Go 中使用 Mutex 能避免并发的 race condition？”

【注释】

• 🔍 提问核心知识点，常考、重要、易混淆

• 🧩 问题明确，引导用户主动思考核心概念



【用户作答】🎤 用户语音输入回答

👤 用户语音：

“Mutex 会让 goroutine 轮流访问资源…”

系统实时识别为文本，用户确认后显示：

✅ Recognition complete · ✏️ 编辑 · 🚀 Start analysis

【注释】

• 🎤 实时语音转文字，提升表达效率

• ✏️ 用户确认机制，提高准确性与参与感



【AI多维分析反馈卡片】✨ 卡片逐步滑入问答流

① 总评卡片

❌ “不完全正确哦”

你提到了关键字 “轮流访问”，但并没有明确表达 Mutex 的锁机制。

【注释】

• 🧩 快速给出总体评价，降低认知负担

• 🌈 亲和式语气，避免压力感

② 结构分析卡片

• ☑️ 提到了：“轮流访问”

• ❌ 未提到：“Mutex 锁机制、临界区（critical section）”

【注释】

• 📍 精准定位盲区，用户瞬间知道漏了哪些知识点

③ 改进建议卡片

✅ 你可以说明 Mutex 如何防止多个 goroutine 同时进入临界区（critical section）。

✅ 补充一个实际场景，例如计数器（counter）累加，体现 Mutex 的实际用途。

【注释】

• 💡 明确指出改进方向，促进用户主动优化

④ 知识点关联卡片（Just-in-time learning）

📖 关键知识点：

Mutex · Critical Section · Race Condition

状态：🟡 待巩固

🔍 查看定义 · ⭐ 收藏到知识库

【注释】

• 🧠 提供即时学习入口，形成结构化知识体系

⑤ 能力图谱更新卡片

📈 已记录到你的能力图谱

知识领域：Go 并发

当前掌握度：Lv 2 → Lv 3（提升！）

📊 查看我的能力图谱

【注释】

• 🏅 用户感知学习进度，提升成长感与仪式感

⑥ 标准答案展示卡片（预览）

📌 “Mutex（互斥锁）通过一次只允许一个 goroutine 进入临界区，避免了多个 goroutine 并发访问共享资源引起的竞争条件…”

📋 复制答案 · ⭐ 收藏标准答案 · 🔍 展开查看全文

【注释】

• 📗 提供标准模版答案，辅助理解与记忆



【智能判断节点】⏳ 等待用户选择

👾 犀知：

“在继续前，你是否还有疑问？”

🚀 继续下一题（5s） | ❓ 我有问题

【注释】

• ⏱️ 节奏控制锚点，让用户自主控制节奏



【用户主动追问】❓ 用户点击「我有问题」

👤 用户语音追问：

“为什么 Mutex 效率不高？什么时候用 Channel 更好？”

【注释】

• 🤔 用户主动发起追问，增强学习主动性与深度



【追问线程自动展开】👾 AI 回应追问

👾 犀知：

“好问题！Mutex 涉及上下文切换和锁竞争，可能导致性能损失。

当你需要频繁通讯且数据传递明确时，用 Channel 更简洁和高效。”

用户继续追问：

“有具体场景吗？”

👾 犀知继续补充卡片：

“比如生产者-消费者模型，使用 Channel 非常优雅：

producer → channel → consumer。”

【注释】

• 💬 AI 主动详细展开，追问形成自然学习对话



【追问结束后回归主流程】🔄 系统自动引导回归主线

👾 犀知：

“希望这个解释帮助到你了！

准备好继续挑战下一个问题了吗？”

🚀 继续下一题（5s） | ❓ 我还有问题

【注释】

• 🔁 追问线程后自动收束回归主线，不割裂节奏



【系统智能生成下一题】🚀 下一题自然滑入

👾 犀知继续问：

“那么你知道什么是读写锁（RWMutex）吗？它和 Mutex 的区别是什么？”

【注释】

• 🎯 下一题个性化智能生成，围绕用户薄弱点或知识图谱扩展学习



【专项训练模式触发】🔔 系统检测到薄弱点，自动建议专项训练

• 当用户连续在“锁机制”问题答错时：

👾 “你在 Mutex 这块知识点表现一般，要不要开启一个小挑战？”

• 按钮：✅ 开启 Mutex 专项训练（3题）

【注释】

• 🛠️ 帮助用户自动识别并修补盲区，结构化强化薄弱知识



【游戏化挑战 · 打怪升级模式】⚔️ 完成专项挑战后触发成就

• 专项训练成功后：

🎉 “恭喜你击败了 Mutex Boss！”

• 🥇 获得徽章：“锁匠大师”

• 📈 能力图谱：“并发编程”模块掌握度 54% → 92%

【注释】

• 🎮 通过游戏化机制，激发用户成就感与学习动力



【知识迁移实战题】💻 从概念到实际场景应用

• 系统接着提出应用题：

👾 “请尝试用 Go 语言写一个线程安全的 Counter，使用 Mutex 实现。”

【注释】

• 🚀 从纯知识学习过渡到实际能力应用，真正实现能力迁移



【长期成长回顾】📅 自动生成成长周报

• 周末系统自动发送周报：

📊 “你本周新增掌握了12个知识点，整体并发模块能力提升18%。继续保持！”

【注释】

• 📌 帮助用户建立持续成长的成就感与习惯驱动


## ✅ 核心总结
犀知不是刷题平台，而是 AI 驱动的沉浸式问答学习系统，它：
- 支持结构化反馈
- 强化主动提问能力
- 具备持续成长沉淀机制
- 鼓励节奏自控、强化表达
- 将学习变成“对话流、知识河、成长路径”
